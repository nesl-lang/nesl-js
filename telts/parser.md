note - i want the markers START_DELIM (`--`) and END_DELIM (`--`) and BLOCK_START (`#!`) to all be configurable.

we want to avoid any sort of complicated regex.  only use regex for really simple stuff.

we def want a state machine.  and notice that the syntax is heavily line-based

https://claude.ai/chat/373e9f47-4004-4a3f-b31e-dce0d5f6dbef